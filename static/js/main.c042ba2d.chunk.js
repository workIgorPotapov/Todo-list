(this["webpackJsonpmy-todo"]=this["webpackJsonpmy-todo"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=n(31),s=n(20),l=n(18),u=n.n(l),p=n(39),d=n(15),x=n(40),f=n.n(x),j=n(149),m=n(140),b=Object(m.a)((function(e){return{form:{display:"flex",flexDirection:"column",alignItems:"center"},formInput:{width:"400px",marginTop:"7px"}}})),h=n(4);var g=function(e){e.addItem;var t=e.postData,n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],i=r[1],o=b(),s=function(e){e.preventDefault(),t(c),i("")};return Object(h.jsx)("form",{className:o.form,onSubmit:s,children:Object(h.jsx)(j.a,{value:c,className:o.formInput,type:"text",onChange:function(e){i(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key&&s(e)},label:"Type something...",variant:"outlined"})})},O=n(144),v=n(145),y=n(150),k=n(146),w=n(113),I=Object(m.a)((function(e){return{typography:{fontFamily:'"Indie Flower", cursive',fontSize:"18px"},filter:{display:"flex",listStyle:"none"},filterItems:{padding:0},filterButton:{height:"30px",padding:"0 3px",fontFamily:'"Indie Flower", cursive',fontSize:"18px",border:"1px ridge #000000"}}}));var N=function(e){var t=e.showAll,n=e.showDone,a=e.showUndone,r=I();return Object(h.jsxs)(O.a,{className:r.filter,children:[Object(h.jsx)(v.a,{className:r.filterItems,children:Object(h.jsx)(y.a,{ml:"3px",children:Object(h.jsx)(k.a,{onClick:function(){return t()},className:r.filterButton,type:"submit",variant:"contained",color:"primary",children:Object(h.jsx)(w.a,{className:r.typography,children:"All"})})})}),Object(h.jsx)(v.a,{className:r.filterItems,children:Object(h.jsx)(y.a,{ml:"3px",children:Object(h.jsx)(k.a,{onClick:function(){return n()},className:r.filterButton,type:"submit",variant:"contained",color:"primary",children:Object(h.jsx)(w.a,{className:r.typography,children:"Done"})})})}),Object(h.jsx)(v.a,{className:r.filterItems,children:Object(h.jsx)(y.a,{ml:"3px",children:Object(h.jsx)(k.a,{onClick:function(){return a()},className:r.filterButton,type:"submit",variant:"contained",color:"primary",children:Object(h.jsx)(w.a,{className:r.typography,children:"Undone"})})})})]})},S=Object(m.a)((function(e){return{typography:{fontFamily:'"Indie Flower", cursive',fontSize:"18px",userSelect:"none"},sort:{display:"flex",alignItems:"center"},sortText:{marginRight:"10px"},sortButton:{minWidth:"30px",minHeight:"30px",maxWidth:"30px",maxHeight:"30px",border:"1px ridge #000000"}}}));var D=function(e){var t=e.sortUp,n=e.sortDown,a=S();return Object(h.jsxs)("div",{className:a.sort,children:[Object(h.jsx)(y.a,{mr:1,children:Object(h.jsx)(w.a,{className:a.typography,children:"Sort by date"})}),Object(h.jsx)(y.a,{mr:"3px",children:Object(h.jsx)(k.a,{onClick:function(){return t()},className:a.sortButton,variant:"contained",color:"default",children:Object(h.jsx)("i",{className:"fas fa-arrow-up fa-2x"})})}),Object(h.jsx)(y.a,{mr:"3px",children:Object(h.jsx)(k.a,{onClick:function(){return n()},className:a.sortButton,variant:"contained",color:"default",children:Object(h.jsx)("i",{className:"fas fa-arrow-down fa-2x"})})})]})},F=n(152),C=Object(m.a)((function(e){return{typography:{fontFamily:'"Indie Flower", cursive',fontSize:"18px",userSelect:"none"},todoLi:{position:"relative",marginBottom:"10px",padding:"5px",width:"400px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"18px",border:"1px ridge #000000",borderRadius:"5px",wordBreak:"break-word",boxShadow:"0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%)"},liInner:{display:"flex",justifyContent:"center",alignItems:"center"},editInp:{position:"absolute",top:"50%",left:"40px",zIndex:"2",transform:"translateY(-50%)",width:"230px",height:"32px",fontFamily:'"Indie Flower", cursive'},liFunc:{minWidth:"105px",display:"flex",alignItems:"center"},todoDate:{paddingTop:"4px",marginRight:"5px"},delete:{minWidth:"30px",minHeight:"30px",maxWidth:"30px",maxHeight:"30px",border:"1px ridge #000000"}}}));var B=function(e){var t=e.item,n=(e.checkItem,e.editItem,e.deleteData),r=e.checkData,c=e.editData,i=Object(a.useState)(t.name),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(a.useState)(!1),p=Object(d.a)(u,2),x=p[0],f=p[1],m=C(),b=function(e,t,n,a){l(e.target.value),"Enter"===e.key&&(c(t,n,t.uuid),O()),"Escape"===e.key&&g()},g=function(){l(t.name),O()},O=function(e){f(!1)};return Object(h.jsxs)(v.a,{className:m.todoLi,onDoubleClick:function(e){return f(!0)},children:[Object(h.jsxs)("div",{className:m.liInner,children:[Object(h.jsx)(F.a,{onClick:function(){return r(t,t.uuid)},type:"checkbox",id:"inp_"+t.uuid,defaultChecked:(t.done,t.done),color:"primary"}),x?Object(h.jsx)(j.a,{autoFocus:!0,onBlur:function(){return g()},value:s,onKeyDown:function(e){return b(e,t,s,t.uuid)},onChange:function(e){return b(e,t,s,t.uuid)},className:m.editInp,type:"text",id:"edit_"+t.uuid}):Object(h.jsx)(w.a,{className:m.typography,children:t.name})]}),Object(h.jsxs)("div",{className:m.liFunc,children:[Object(h.jsx)("div",{className:m.todoDate,children:Object(h.jsx)(w.a,{className:m.typography,children:t.createdAt.substr(0,10)})}),Object(h.jsx)(k.a,{variant:"outlined",className:m.delete,onClick:function(){return n(t.uuid)},children:Object(h.jsx)("i",{className:"far fa-trash-alt fa-lg"})})]})]},t.uuid)},A=n(148),T=Object(m.a)((function(e){return{footer:{textAlign:"center",userSelect:"none"},footerUl:{margin:"0 auto",marginTop:"30px",width:"290px",display:"flex",justifyContent:"center",listStyle:"none"},page:{marginRight:"5px",width:"45px",height:"35px",fontSize:"20px",textAlign:"center",border:"1px ridge #000000",borderRadius:"5px",color:"#000000",cursor:"pointer",transition:"all 0.1s linear",boxShadow:"0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%)","&:hover":{backgroundColor:"#3f50b5","& $pageLink":{color:"#ffffff"}}},pageActive:{marginRight:"5px",width:"45px",height:"35px",fontSize:"20px",textAlign:"center",border:"1px ridge #000000",borderRadius:"5px",color:"#000000",backgroundColor:"#3f50b5",cursor:"pointer",boxShadow:"0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%)"},pageLink:{color:"#000000",textDecoration:"none",transition:"all 0.1s linear","&:hover":{textDecoration:"none"}},pageLinkActive:{color:"#ffffff",textDecoration:"none","&:hover":{textDecoration:"none"}}}}));var L=function(e){for(var t,n,a=e.itemsPerPage,r=e.totalItems,c=e.page,i=e.setPage,o=(e.lastItemIndex,T()),s=[],l=1;l<=Math.ceil(r/a);l++)s.push(l);return s.length>5&&(s.indexOf(c)>2?(t=c-3,n=c+2):(t=0,n=5),s.lastIndexOf(c)>s.length-4&&(t=s.length-5,n=s.length)),Object(h.jsx)("footer",{className:o.footer,children:Object(h.jsxs)(O.a,{className:o.footerUl,children:[c>1&&Object(h.jsx)(v.a,{className:o.page,onClick:function(){return i(c-1)},children:Object(h.jsx)(A.a,{className:o.pageLink,children:"<<"})}),s.slice(t,n).map((function(e){return Object(h.jsx)(v.a,{className:"".concat(e===c?o.pageActive:o.page),onClick:function(){return i(e)},children:Object(h.jsx)(A.a,{className:"".concat(e===c?o.pageLinkActive:o.pageLink),children:e})},e)})),c<s.length&&Object(h.jsx)(v.a,{className:o.page,onClick:function(){return i(c+1)},children:Object(h.jsx)(A.a,{className:o.pageLink,children:">>"})})]})})},z=n(154),U=n(151),P=Object(m.a)((function(e){return{typography:{fontFamily:'"Indie Flower", cursive',fontSize:"18px"},main:{boxSizing:"border-box",position:"relative",width:"500px",height:"1vh",margin:"0 auto",fontFamily:'"Indie Flower", cursive'},header:{marginTop:"120px",textAlign:"center",alignItems:"center",display:"flex",flexDirection:"column"},heading:{fontFamily:'"Indie Flower", cursive',userSelect:"none"},formButtons:{marginTop:"25px",width:"470px",display:"flex",justifyContent:"space-between"},todoUl:{width:"320px",margin:"0 auto",marginTop:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}}));var R=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),l=i[0],x=i[1],j=Object(a.useState)("order=asc"),m=Object(d.a)(j,2),b=m[0],v=m[1],y=Object(a.useState)([]),k=Object(d.a)(y,2),I=k[0],S=k[1],F=Object(a.useState)(""),C=Object(d.a)(F,2),A=C[0],T=C[1],R=Object(a.useState)(!1),E=Object(d.a)(R,2),H=E[0],W=E[1],J=Object(a.useState)(1),K=Object(d.a)(J,2),M=K[0],_=K[1],Y=Object(a.useState)(5),$=Object(d.a)(Y,1)[0],q=P(),G=M*$,Q=G-$,V=n.slice(Q,G),X="https://todo-api-learning.herokuapp.com/v1/tasks/2",Z="https://todo-api-learning.herokuapp.com/v1/task/2";Object(a.useEffect)((function(){ee()}),[l,b]);var ee=function(){var e=Object(p.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",l.length>1&&(t="&"),e.next=4,f.a.get("".concat(X)+"?"+l+t+b);case 4:n=e.sent,console.log("".concat(X)+"?"+l+t+b),r(n.data),S(n.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,e.next=4,f.a.post(Z,{name:t,done:!1});case 4:ee(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n=e.t0.message.substr(e.t0.message.length-3),ce(n);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("".concat(Z,"/").concat(t));case 3:ee(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0.message.substr(e.t0.message.length-3),ce(n);case 10:I.length>1&&1===V.length&&_(M-1);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(p.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch("".concat(Z,"/").concat(n),{done:!t.done});case 2:ee();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(p.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("".concat(Z,"/").concat(a),{name:n});case 3:ee(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r=e.t0.message.substr(e.t0.message.length-3),ce(r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ce=function(e){"422"===e&&(W(!0),T("Item`s text must contain more than one symbol")),"404"===e&&(W(!0),T("Item is not found")),"400"===e&&(W(!0),T("Item has been already added"))},ie=function(e,t){if(e){var n=I.map((function(n){return n.id===t?Object(o.a)(Object(o.a)({},n),{},{task:e}):Object(o.a)({},n)}));r(Object(s.a)(n)),setFilteredItems(Object(s.a)(n))}},oe=function(e){var t=I.filter((function(t){return t.id!==e}));r(Object(s.a)(t)),setFilteredItems(Object(s.a)(t))},se=function(e){var t=I.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{done:!t.done}):Object(o.a)({},t)}));r(Object(s.a)(t)),setFilteredItems(Object(s.a)(t))},le=function(e,t){"clickaway"!==t&&("timeout"!==t&&"click"!==e.type||W(!1),console.log(e,t))};return Object(h.jsxs)("main",{className:q.main,children:[Object(h.jsxs)("header",{className:q.header,children:[Object(h.jsx)(w.a,{className:q.heading,variant:"h1",children:"ToDo"}),Object(h.jsx)(g,{addItem:function(e,t,a,c){if(e){var i={id:t,task:e,done:a,time:c},o=Object(s.a)(n);o.push(i),r(Object(s.a)(o)),setFilteredItems(Object(s.a)(n))}},postData:te}),Object(h.jsxs)("div",{className:q.formButtons,children:[Object(h.jsx)(N,{showAll:function(){x("")},showDone:function(){x("filterBy=done")},showUndone:function(){x("filterBy=undone")}}),Object(h.jsx)(D,{sortUp:function(){v("order=desc")},sortDown:function(){v("order=asc")}})]})]}),Object(h.jsx)(O.a,{className:q.todoUl,children:V.map((function(e){return Object(h.jsx)(B,{editItem:ie,item:e,checkItem:se,removeItem:oe,deleteData:ne,checkData:ae,editData:re},e.uuid)}))}),n.length>5&&Object(h.jsx)(L,{setPage:_,page:M,itemsPerPage:$,totalItems:n.length,lastItemIndex:G}),Object(h.jsx)(z.a,{open:H,autoHideDuration:4e3,onClose:le,children:Object(h.jsx)(U.a,{onClose:function(e){return le(e)},severity:"error",children:A})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,156)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),E()}},[[111,1,2]]]);
//# sourceMappingURL=main.c042ba2d.chunk.js.map